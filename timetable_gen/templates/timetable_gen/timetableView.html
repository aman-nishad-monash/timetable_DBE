{% extends "timetable_gen/base.html" %}

{% block content %}
  <!-- Navigation Buttons -->
  <a href="{% url 'reset' %}" class="nav-button">Back to Home</a>
  <a href="{% url 'home' %}" class="nav-button">Change Preferences</a>
  <button onclick="window.print()" class="nav-button">Print as PDF</button>

  <h1>Generated Timetable</h1>

  {% if timetable_classes %}
    <div class="timetable">
      {% for day, classes in timetable_classes.items %}
        {% if classes %}
          <section class="timetable-day">
            <h3>{{ day }}</h3>
            <table class="timetable-table">
              <thead>
                <tr>
                  <th>Faculty</th>
                  <th>Unit</th>
                  <th>Unit Code</th>
                  <th>Class Type</th>
                  <th>Timing</th>
                  <th>Location</th>
                </tr>
              </thead>
              <tbody>
                {% for cls in classes %}
                  <tr>
                    <td>{{ cls.lecturer }}</td>
                    <td>{{ cls.unit_name }}</td>
                    <td>{{ cls.unit_code }}</td>
                    <td>{{ cls.class_type }}</td>
                    <td>{{ cls.start_time }} â€“ {{ cls.end_time }}</td>
                    <td>{{ cls.location }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </section>
        {% endif %}
      {% endfor %}
    </div>
  {% else %}
    <p>No timetable generated yet. Please upload a CSV file and set your preferences.</p>
  {% endif %}
{% endblock %}
